/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/js/app.js":
/*!***********************!*\
  !*** ./src/js/app.js ***!
  \***********************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_functions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modules/functions.js */ \"./src/js/modules/functions.js\");\n/* harmony import */ var _modules_basket_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modules/basket.js */ \"./src/js/modules/basket.js\");\n/* harmony import */ var _modules_burger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modules/burger.js */ \"./src/js/modules/burger.js\");\n/* harmony import */ var _modules_likes_counter_insta_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./modules/likes-counter-insta.js */ \"./src/js/modules/likes-counter-insta.js\");\n/* harmony import */ var _modules_modal_registration_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./modules/modal-registration.js */ \"./src/js/modules/modal-registration.js\");\n/* harmony import */ var _modules_swiper_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./modules/swiper.js */ \"./src/js/modules/swiper.js\");\n/* harmony import */ var _modules_switcher_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./modules/switcher.js */ \"./src/js/modules/switcher.js\");\n/* harmony import */ var _modules_user_page_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./modules/user-page.js */ \"./src/js/modules/user-page.js\");\n/* harmony import */ var _modules_main_menu_pages_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./modules/main-menu-pages.js */ \"./src/js/modules/main-menu-pages.js\");\n/* harmony import */ var _modules_filter_tovar_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./modules/filter-tovar.js */ \"./src/js/modules/filter-tovar.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n_modules_functions_js__WEBPACK_IMPORTED_MODULE_0__.isWebp();\r\n_modules_burger_js__WEBPACK_IMPORTED_MODULE_2__.callBurgerMenu();\r\n_modules_burger_js__WEBPACK_IMPORTED_MODULE_2__.catalogAdapt();\r\n_modules_filter_tovar_js__WEBPACK_IMPORTED_MODULE_9__.showFilters();\r\n_modules_filter_tovar_js__WEBPACK_IMPORTED_MODULE_9__.editLinkText();\r\n_modules_modal_registration_js__WEBPACK_IMPORTED_MODULE_4__.logInFunction();\r\n// userPage.getFavProducts();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// popup.funcPopup();\r\n\r\nif (document.getElementById('comments-popup')) {\r\n    _modules_main_menu_pages_js__WEBPACK_IMPORTED_MODULE_8__.changeMainPageContent();\r\n}\r\n\r\n\r\nif (document.getElementById('main-basket') || document.getElementById('product-details')) {\r\n    _modules_basket_js__WEBPACK_IMPORTED_MODULE_1__.userBasket();\r\n}\r\n\r\nif (document.querySelector('.swiper')) {\r\n    _modules_swiper_js__WEBPACK_IMPORTED_MODULE_5__.swipeSlider();\r\n}\r\n\r\nif (document.getElementById('likes-btn')) {\r\n    _modules_likes_counter_insta_js__WEBPACK_IMPORTED_MODULE_3__.countLikesInsta();\r\n}\r\n\r\nif (document.getElementById('popular-new')) {\r\n    _modules_switcher_js__WEBPACK_IMPORTED_MODULE_6__.switchPopularAndNew();\r\n}\r\n\r\nif (document.getElementById('user-page-content-block')) {\r\n    _modules_user_page_js__WEBPACK_IMPORTED_MODULE_7__.loadUserContent();\r\n}\r\n\n\n//# sourceURL=webpack://gulp-2022/./src/js/app.js?");

/***/ }),

/***/ "./src/js/modules/basket.js":
/*!**********************************!*\
  !*** ./src/js/modules/basket.js ***!
  \**********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   userBasket: () => (/* binding */ userBasket)\n/* harmony export */ });\nfunction userBasket() {\r\n\r\n    let dataPrice;\r\n    let searchElem = [];\r\n    let searchPrice = [];\r\n    const regexp = /[^0-9]/g;\r\n\r\n\r\n\r\n    document.addEventListener('DOMContentLoaded', (e) => {\r\n\r\n\r\n        if (document.getElementById('product-details')) {\r\n            const currentPage = document.getElementById('about-details');\r\n            currentPage.addEventListener('click', (e) => {\r\n                // let count = document.querySelector(dataId);\r\n                let element = document.querySelector(`[data-name=\"${e.target.dataset.name}\"]>span.result`);\r\n                //беру из строки сумму товара без обозначения валюты\r\n                let elPrice = document.querySelector(`[data-name=\"${e.target.dataset.name}\"]+[data-price=\"basket-item-price\"]`);\r\n                // console.log(elPrice)\r\n                let priceDigit = elPrice.innerText.replace(regexp, \"\");\r\n                //записываю в дата атрибут блока изначальную стоимость товара\r\n                if (!elPrice.dataset.currentCount) {\r\n                    elPrice.dataset.currentCount = priceDigit;\r\n                    dataPrice = elPrice.dataset.currentCount;\r\n                } else {\r\n                    dataPrice = elPrice.dataset.currentCount;\r\n                }\r\n\r\n                //считаю + и - и вывожу итоговую сумму по каждому товару\r\n                if (e.target.dataset.name) {\r\n                    if (e.target.classList.contains('plus')) {\r\n                        element.innerText = ++element.innerText;\r\n                        let multPrices = dataPrice * element.innerText;\r\n                        elPrice.innerText = `${multPrices} ₽`;\r\n\r\n                    } else if (e.target.classList.contains('minus')) {\r\n                        if (element.innerText <= 1) {\r\n                            element.innerText = '1';\r\n                            elPrice.innerText = `${dataPrice} ₽`;\r\n\r\n                        } else {\r\n                            element.innerText = element.innerText - 1;\r\n                            elPrice.innerText = `${priceDigit - dataPrice} ₽`;\r\n\r\n                        }\r\n                    }\r\n\r\n                }\r\n            })\r\n        } else {\r\n\r\n            const elDeliveryPrice = document.getElementById('delivery-price');\r\n            let deliveryPriceDigit = elDeliveryPrice.innerText.replace(regexp, \"\");\r\n\r\n            const elDiscount = document.getElementById('discount');\r\n            let discountDigit = elDiscount.innerText.replace(regexp, \"\");\r\n\r\n            const elTotalSumDiscount = document.getElementById('total-sum-discount');\r\n            let totalSumDiscountDigit = elTotalSumDiscount.innerText.replace(regexp, \"\");\r\n\r\n\r\n            const elTotalSum = document.getElementById('total-sum');\r\n            let totalSumDigit = +elTotalSum.innerText.replace(regexp, \"\");\r\n\r\n            const headerBlock = document.getElementById('header');\r\n            headerBlock.classList.add('bg-white');\r\n\r\n            let itemsArray = [...document.querySelectorAll('[data-count=\"count-block\"]')];\r\n            countTotalPrice(itemsArray);\r\n\r\n            let delButtonsArray = [...document.querySelectorAll('[data-delete=\"basket-item-delete\"]')];\r\n            console.log(delButtonsArray)\r\n            deleteItem(delButtonsArray)\r\n\r\n            document.addEventListener('click', (e) => {\r\n                let dataId = e.target.dataset.name;\r\n                totalSumDigit = +0;\r\n                // let count = document.querySelector(dataId);\r\n                let element = document.querySelector(`[data-name=\"${dataId}\"]>span.result`);\r\n                //беру из строки сумму товара без обозначения валюты\r\n                let elPrice = document.querySelector(`[data-name=\"${dataId}\"]+[data-price=\"basket-item-price\"]`);\r\n                // console.log(elPrice)\r\n                let priceDigit = elPrice.innerText.replace(regexp, \"\");\r\n                //записываю в дата атрибут блока изначальную стоимость товара\r\n                if (!elPrice.dataset.currentCount) {\r\n                    elPrice.dataset.currentCount = priceDigit;\r\n                    dataPrice = elPrice.dataset.currentCount;\r\n                } else {\r\n                    dataPrice = elPrice.dataset.currentCount\r\n                }\r\n\r\n                //считаю + и - и вывожу итоговую сумму по каждому товару\r\n                if (e.target.dataset.name) {\r\n                    itemsArray = [...document.querySelectorAll('[data-count=\"count-block\"]')];\r\n                    // countPlusMinus(element, elPrice, priceDigit, countTotalPrice, itemsArray, e.target);\r\n                    if (e.target.classList.contains('plus')) {\r\n                        element.innerText = ++element.innerText;\r\n                        let multPrices = dataPrice * element.innerText;\r\n                        elPrice.innerText = `${multPrices} ₽`;\r\n                        countTotalPrice(itemsArray);\r\n                    } else if (e.target.classList.contains('minus')) {\r\n                        if (element.innerText <= 1) {\r\n                            element.innerText = '1';\r\n                            elPrice.innerText = `${dataPrice} ₽`;\r\n                            countTotalPrice(itemsArray);\r\n                        } else {\r\n                            element.innerText = element.innerText - 1;\r\n                            elPrice.innerText = `${priceDigit - dataPrice} ₽`;\r\n                            countTotalPrice(itemsArray);\r\n                        }\r\n                    }\r\n\r\n                }\r\n\r\n            });\r\n\r\n            function countTotalPrice(array) {\r\n                array.forEach((element) => {\r\n                    searchElem = [...element.children];\r\n                    searchElem.forEach((el) => {\r\n                        if (el.dataset.price) {\r\n                            searchPrice = +el.innerText.replace(regexp, \"\");\r\n                            totalSumDigit += +searchPrice;\r\n                            elTotalSum.innerText = `${totalSumDigit} ₽`;//получила сумму товаров в корзине при загрузке страницы\r\n                            elTotalSumDiscount.innerText = `${(+deliveryPriceDigit + +totalSumDigit) - discountDigit} ₽`\r\n                        }\r\n                    })\r\n                })\r\n            }\r\n\r\n            function deleteItem(array) {\r\n                let itemsDelArray;\r\n                array.forEach((element) => {\r\n                    element.addEventListener('click', (e) => {\r\n                        totalSumDigit = +0;\r\n                        e.preventDefault();\r\n                        searchElem = element.parentElement.parentElement;\r\n                        searchElem.remove();\r\n                        if (!searchElem.isConnected) {\r\n                            let delButtonsArray = [...document.querySelectorAll('[data-delete=\"basket-item-delete\"]')];\r\n                            if (delButtonsArray.length < 3) {\r\n                                itemsDelArray = [...document.querySelectorAll('[data-count=\"count-block\"]')];\r\n                                countTotalPrice(itemsDelArray);\r\n                            }\r\n                        }\r\n\r\n                    })\r\n                })\r\n            }\r\n        }\r\n    });\r\n\r\n}\n\n//# sourceURL=webpack://gulp-2022/./src/js/modules/basket.js?");

/***/ }),

/***/ "./src/js/modules/burger.js":
/*!**********************************!*\
  !*** ./src/js/modules/burger.js ***!
  \**********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   callBurgerMenu: () => (/* binding */ callBurgerMenu),\n/* harmony export */   catalogAdapt: () => (/* binding */ catalogAdapt)\n/* harmony export */ });\nfunction callBurgerMenu() {\r\n    $(document).ready(function () {\r\n\r\n        $(\"#callBurger\").on('click', (event) => {\r\n            $('#burger').toggleClass('show');\r\n            $('body').toggleClass('fixed');\r\n            $('.burger__container').toggleClass('scroll');\r\n            event.preventDefault();\r\n        });\r\n    });\r\n\r\n    let menuBtn = document.querySelector('.menu__btn');\r\n    let menu = document.querySelector('.burger');\r\n    menuBtn.addEventListener('click', () => {\r\n        menuBtn.classList.toggle('active');\r\n        menu.classList.toggle('active');\r\n    });\r\n    console.dir(window)\r\n}\r\n\r\nfunction catalogAdapt(){\r\n    const sidebar = document.getElementById('sidebar');\r\n    const sidebarMenu = document.getElementById('sidebar-menu');\r\n\r\n    if (window.screen.width <= 768 && sidebar) {\r\n        sidebarMenu.classList.add('bl-hidden');\r\n        sidebar.addEventListener('click', (e) => {\r\n            e.preventDefault();\r\n            sidebarMenu.classList.toggle('bl-hidden');\r\n            sidebar.classList.toggle('sidebar-button');\r\n        })\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://gulp-2022/./src/js/modules/burger.js?");

/***/ }),

/***/ "./src/js/modules/filter-tovar.js":
/*!****************************************!*\
  !*** ./src/js/modules/filter-tovar.js ***!
  \****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   editLinkText: () => (/* binding */ editLinkText),\n/* harmony export */   showFilters: () => (/* binding */ showFilters)\n/* harmony export */ });\nfunction showFilters() {\r\n    const filterShowButton = document.getElementById('filter-show-button')\r\n    const searchSidebarContent = document.getElementById('search-sidebar');\r\n    if (window.screen.width <= 768 && searchSidebarContent) {\r\n        searchSidebarContent.classList.add('bl-hidden');\r\n        filterShowButton.addEventListener('click', (e) => {\r\n            e.preventDefault();\r\n            searchSidebarContent.classList.toggle('bl-hidden');\r\n        });\r\n    }\r\n}\r\n\r\nfunction editLinkText() {\r\n    const linkUp = document.getElementById('price-up-link');\r\n    const linkDown = document.getElementById('price-down-link');\r\n    const sidebarElement = document.getElementById('search-sidebar');\r\n    if (window.screen.width <= 500 && sidebarElement) {\r\n        linkUp.innerText = '↓';\r\n        linkDown.innerText = '↑';\r\n    }\r\n}\n\n//# sourceURL=webpack://gulp-2022/./src/js/modules/filter-tovar.js?");

/***/ }),

/***/ "./src/js/modules/functions.js":
/*!*************************************!*\
  !*** ./src/js/modules/functions.js ***!
  \*************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isWebp: () => (/* binding */ isWebp)\n/* harmony export */ });\n/* Проверка поддержки webp, добавление класса webp или no-webp для HTML */\r\n\r\nfunction isWebp() {\r\n\t// Проверка поддержки webp\r\n\tfunction testWebP(callback) {\r\n\t\tlet webP = new Image();\r\n\t\twebP.onload = webP.onerror = function () {\r\n\t\t\tcallback(webP.height == 2);\r\n\t\t};\r\n\t\twebP.src = \"data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA\";\r\n\t}\r\n\t// Добавление класса _webp или _no-webp для HTML\r\n\ttestWebP(function (support) {\r\n\t\tlet className = support === true ? 'webp' : 'no-webp';\r\n\t\tdocument.documentElement.classList.add(className);\r\n\t});\r\n}\r\n\n\n//# sourceURL=webpack://gulp-2022/./src/js/modules/functions.js?");

/***/ }),

/***/ "./src/js/modules/likes-counter-insta.js":
/*!***********************************************!*\
  !*** ./src/js/modules/likes-counter-insta.js ***!
  \***********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   countLikesInsta: () => (/* binding */ countLikesInsta)\n/* harmony export */ });\nfunction countLikesInsta() {\r\n    const likesBtn = document.getElementById('likes-btn');\r\n    const likesDigit = document.getElementById('likes-digit');\r\n    let myStorage = window.localStorage;\r\n    const likesButton = document.getElementById('svg-path');\r\n\r\n    function clickLikes(nameItem, nameButton) {\r\n        let counter;\r\n        if (!myStorage.getItem(nameItem)) {\r\n            counter = 0;\r\n            likesDigit.innerText = '0';\r\n        } else {\r\n            counter = myStorage.getItem(nameItem);\r\n            nameButton.innerText = myStorage.getItem(nameItem);\r\n        }\r\n        return () => {\r\n            if (likesButton.classList.contains('clicked-like')) {\r\n                likesButton.classList.remove('clicked-like');\r\n                nameButton.innerText = myStorage.getItem(nameItem);\r\n                return --counter;\r\n            } else {\r\n                likesButton.classList.add('clicked-like');\r\n                myStorage.setItem(nameItem, nameButton.innerText);\r\n                return ++counter;\r\n            }\r\n        }\r\n    }\r\n\r\n    let buttonInst;\r\n    buttonInst = clickLikes('counterResultsInsta', likesDigit);\r\n\r\n    likesBtn.addEventListener('click', () => {\r\n        likesDigit.innerText = buttonInst();\r\n        myStorage.setItem('counterResultsInsta', likesDigit.innerText);\r\n    });\r\n}\r\n\n\n//# sourceURL=webpack://gulp-2022/./src/js/modules/likes-counter-insta.js?");

/***/ }),

/***/ "./src/js/modules/main-menu-pages.js":
/*!*******************************************!*\
  !*** ./src/js/modules/main-menu-pages.js ***!
  \*******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   changeMainPageContent: () => (/* binding */ changeMainPageContent)\n/* harmony export */ });\nfunction changeMainPageContent() {\r\n    const API_URL = 'https://reqres.in/api/users/2';\r\n    const commentInsta = document.getElementById('comments-popup');\r\n    // console.log(commentInsta)\r\n\r\n\r\n    commentInsta.addEventListener('click', (e) => {\r\n        e.preventDefault();\r\n\r\n        const windowParam = 'width=700px, height=400px, left=500, top=500';\r\n        let popUpWindow = window.open('', '_blank', windowParam);\r\n        const curDocument = popUpWindow.document;\r\n\r\n        const popupTemplate = document.getElementById('popup-template');\r\n\r\n        curDocument.write(`${popupTemplate.innerHTML}`)\r\n\r\n\r\n        let head = curDocument.getElementsByTagName('head')[0]\r\n\r\n\r\n        function includeCSS() {\r\n            let style = curDocument.createElement('link');\r\n            style.href = 'css/style.css';\r\n            style.rel = 'stylesheet';\r\n            head.appendChild(style)\r\n        }\r\n        includeCSS()\r\n\r\n        const systemMessages = curDocument.getElementById('system-messages');\r\n        const popupTextarea = curDocument.getElementById('popup-textarea');\r\n        let symbolCount = curDocument.getElementById('symbol-count');\r\n\r\n        popupTextarea.addEventListener('keyup', (e) => {\r\n            e.preventDefault();\r\n            if (symbolCount.innerText >= '1') {\r\n                symbolCount.innerText = --symbolCount.innerText;\r\n            } else {\r\n                symbolCount.innerText = '0';\r\n                return false\r\n            }\r\n        })\r\n\r\n        const popupSubmit = curDocument.getElementById('popup-submit');\r\n\r\n        popupSubmit.addEventListener('click', (e) => {\r\n            e.preventDefault();\r\n            fetch(API_URL, {\r\n                method: 'PATCH',\r\n                body: JSON.stringify({\r\n                    text: popupTextarea.value,\r\n                }),\r\n                headers: {\r\n                    'content-type': 'application/json'\r\n                }\r\n            })\r\n                .then(res => {\r\n                    checkField(res.status, popupTextarea.value)\r\n                })\r\n        })\r\n\r\n        function checkField(res, value) {\r\n            if (res == '200' && value != '' && value.length >= '10') {\r\n                systemMessages.innerHTML = \"Комментарий успешно отправлен!\";\r\n                setTimeout(() => {\r\n                    popUpWindow.close();\r\n                }, 2000)\r\n            } else if (value.length == '0' || value.length < '10')  {\r\n                systemMessages.innerHTML = \"Введите ваш комментарий! Длина сообщения должна быть больше 10 символов!\";\r\n            } else if (res != '200') {\r\n                systemMessages.innerHTML = \"Ошибка отправки!\";\r\n            }\r\n        }\r\n\r\n    })\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack://gulp-2022/./src/js/modules/main-menu-pages.js?");

/***/ }),

/***/ "./src/js/modules/modal-registration.js":
/*!**********************************************!*\
  !*** ./src/js/modules/modal-registration.js ***!
  \**********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   logInFunction: () => (/* binding */ logInFunction)\n/* harmony export */ });\n\r\nfunction logInFunction() {\r\n\r\n    document.addEventListener('DOMContentLoaded', (e) => {\r\n        const URL = 'http://localhost:3000/users/';\r\n        let modalCallBtn = [...document.querySelectorAll(`a[data-modal=\"callModal\"]`)];\r\n\r\n        const modalTemplate = document.getElementById('modal');\r\n        const modalCloseBtn = document.getElementById('closeModal');\r\n        const contentInModalWindow = document.getElementById('scroll-on-content');\r\n        const loginFormInnerContent = document.getElementById('login-inner-content');\r\n        const loginFormTemplate = document.getElementById('login-form-template').innerHTML;\r\n        const registrationFormTemplate = document.getElementById('regist-form-template').innerHTML;\r\n        const bodyPage = document.getElementsByTagName('body')[0];\r\n        const favProductHeader = document.getElementById('favorite-header');\r\n\r\n        modalTemplate.classList.add('scroll');\r\n\r\n\r\n        let modalRegistrationLogin;\r\n        let registrationButton;\r\n\r\n        if (document.getElementById('send-order')) {\r\n            const sendOrderBtn = document.getElementById('send-order');\r\n            const mainBasketBlock = document.getElementById('main-basket');\r\n            const sentOrderTemplate = document.getElementById('sent-order-template').innerHTML;\r\n            sendOrderBtn.addEventListener('click', (e) => {\r\n                e.preventDefault();\r\n                mainBasketBlock.innerHTML = '';\r\n                mainBasketBlock.innerHTML = sentOrderTemplate;\r\n                window.scrollTo(0, 0);\r\n                modalCallBtn = [...document.querySelectorAll(`a[data-modal=\"callModal\"]`)];\r\n                openLogInPage(modalCallBtn);\r\n            })\r\n        }\r\n\r\n        function logIn() {\r\n\r\n            // const callBurgerBtn = document.getElementById('callBurger');\r\n            // callBurgerBtn.classList.add('bl-hidden');\r\n\r\n            modalTemplate.classList.remove('show');\r\n            bodyPage.classList.remove('fixed');\r\n            window.location.replace('main-user-page.html');\r\n\r\n        }\r\n\r\n        function sendPostRequest(email, password, ifSaveUser) {\r\n            const errorBlock = document.getElementById('enter-error-block');\r\n            if (localStorage.getItem('token')) {\r\n                logIn();\r\n            } else {\r\n                fetch('https://reqres.in/api/login', {\r\n                    method: 'POST',\r\n                    body: JSON.stringify({\r\n                        email: email,\r\n                        password: password\r\n                    }),\r\n                    headers: {\r\n                        'content-type': 'application/json'\r\n                    }\r\n                })\r\n                    .then(response => response.json())\r\n                    .then(response => {\r\n                        if (response.token) {\r\n                            if (ifSaveUser) {\r\n                                localStorage.setItem('token', response.token);\r\n                            }\r\n                            logIn();\r\n                            return response.token;\r\n                        } else {\r\n                            errorBlock.innerText = 'Ошибка входа! Проверьте правильность данных или заполните все поля!'\r\n                        }\r\n                    })\r\n                    .catch(error => {\r\n                        console.error(error);\r\n                        errorBlock.innerText = 'Something gone wrong';\r\n                    })\r\n            }\r\n        }\r\n\r\n        function openLogInPage(element) {\r\n            element.forEach(elem => {\r\n                if (localStorage.getItem('token')) {\r\n                    elem.innerText = \"Кабинет\";\r\n                    favProductHeader.innerText = \"Избранное\";\r\n                }\r\n                elem.addEventListener('click', (e) => {\r\n                    e.preventDefault();\r\n                    if (localStorage.getItem('token')) {\r\n                        window.location.replace('https://www.anna-khizhniak.site/portfolio/store-HobbyArt/main-user-page.html');\r\n                    } else {\r\n                        if (window.screen.width <= 768) {\r\n                            const callBurgerBtn = document.getElementById('callBurger');\r\n                            callBurgerBtn.classList.add('bl-hidden');\r\n                        }\r\n                        modalTemplate.classList.add('show');\r\n                        bodyPage.classList.add('fixed');\r\n                        logInSuccessful();\r\n                    }\r\n                });\r\n            })\r\n        }\r\n\r\n        openLogInPage(modalCallBtn);\r\n\r\n        function logInSuccessful() {\r\n            modalRegistrationLogin = document.getElementById('modal-registration-login');\r\n            modalRegistrationLogin.addEventListener('click', (e) => {\r\n                e.preventDefault();\r\n                const emailField = document.getElementById('user-email').value;\r\n                const passwordField = document.getElementById('user-password').value;\r\n                const ifSaveUser = document.getElementById('checkbox-save-user').checked;\r\n                sendPostRequest(emailField, passwordField, ifSaveUser);\r\n            })\r\n        }\r\n\r\n        function getElem() {\r\n            contentInModalWindow.innerHTML = loginFormTemplate;\r\n            return registrationButton = document.getElementById('regist-button');\r\n        }\r\n\r\n        function callRegistTemplate() {\r\n            getElem();\r\n            registrationButton.addEventListener('click', (e) => {\r\n                e.preventDefault();\r\n                contentInModalWindow.innerHTML = registrationFormTemplate;\r\n                validationUserData();\r\n                const sendRegisteredData = document.getElementById('send-registered-data');\r\n                sendRegisteredData.addEventListener('click', (e) => {\r\n                   e.preventDefault();\r\n                   fetch('https://reqres.in/api/register', {\r\n                       method: 'POST',\r\n                       body: JSON.stringify({\r\n                           // userName: document.getElementById('user-name-reg').value,\r\n                           // userLastName: document.getElementById('user-last-name-reg').value,\r\n                           // userSurName: document.getElementById('user-sur-name-reg').value,\r\n                           // phone: document.getElementById('regist-user-phone-reg').value,\r\n                           // email: document.getElementById('user-email-reg').value,\r\n                           // password: document.getElementById('regist-user-password-reg').value,\r\n                           // confirmPassword: document.getElementById('user-confirm-password-reg').value,\r\n                           \"email\": \"eve.holt@reqres.in\",\r\n                           \"password\": \"pistol\"\r\n                       }),\r\n                       headers: {\r\n                           'content-type': 'application/json'\r\n                       }\r\n                   })\r\n                       .then(response => response.json())\r\n                       .then(res => {\r\n                           console.log(res)\r\n                           if (res.token) {\r\n                               setTimeout(() => {\r\n                                   contentInModalWindow.innerHTML = forgotPasswordFormTemplate;\r\n                                   const innerContent = document.getElementById('forgot-password-inner-content');\r\n                                   innerContent.innerText = '';\r\n                                   innerContent.innerHTML = '<p class=\"error-message\">Регистрация прошла успешно!</p>';\r\n                                    setTimeout(() => {\r\n                                        window.location.reload();\r\n                                    }, 1500);\r\n                               }, 100);\r\n                           }\r\n                       })\r\n                })\r\n                const loginButton = document.getElementById('login-button');\r\n                loginButton.addEventListener('click', (e) => {\r\n                    e.preventDefault();\r\n                    contentInModalWindow.innerHTML = '';\r\n                    contentInModalWindow.innerHTML = loginFormTemplate;\r\n                    callRegistTemplate();\r\n                    callFormForgotPassword();\r\n                    logInSuccessful();\r\n                });\r\n            });\r\n        }\r\n        callRegistTemplate();\r\n\r\n        function validationUserData() {\r\n            const regexName = new RegExp('^[A-Za-zА-Яа-яЁёЁЇїІіЄєҐґ]{2,15}$');\r\n            const regexTelephone = new RegExp('^[0-9]{12}$');\r\n            const regexEmail = new RegExp('^([a-z0-9_-]+\\\\.)*[a-z0-9_-]+@[a-z0-9_-]+(\\\\.[a-z0-9_-]+)*\\\\.[a-z]{2,6}$');\r\n            const regexPassword = new RegExp('^(?=(?:[^A-Z]*[A-Z]){1,}[^A-Z]*$)(?=(?:[^a-z]*[a-z]){1,}[^a-z]*$)(?=(?:\\\\D*\\\\d){1,}\\\\D*$)[A-Za-z\\\\d]{6,}$');\r\n            const sendRegisteredData = document.getElementById('send-registered-data');\r\n            const userName = document.getElementById('user-name-reg');\r\n            const userLastName = document.getElementById('user-last-name-reg');\r\n            const userSurName = document.getElementById('user-sur-name-reg');\r\n            const userPhone = document.getElementById('regist-user-phone-reg');\r\n            const userEmail = document.getElementById('user-email-reg');\r\n            const userPassword = document.getElementById('regist-user-password-reg');\r\n            const userConfirmPassword = document.getElementById('user-confirm-password-reg');\r\n            const regErrorBlock = document.getElementById('reg-error-block');\r\n            console.log(regErrorBlock)\r\n\r\n            function checkUserData(field, regex) {\r\n                field.addEventListener('keyup', (e) => {\r\n                    e.preventDefault();\r\n                    if (field.value.length > 1 && field.value !== '') {\r\n                        if(!regex.test(field.value)) {\r\n                            field.setAttribute('style', 'background-color:#f9ebeb');\r\n                        } else {\r\n                            field.setAttribute('style', 'background-color:#edf9eb');\r\n                        }\r\n                        checkUserPassword();\r\n                        checkFilledFields();\r\n                    }\r\n                })\r\n            }\r\n\r\n            checkUserData(userName, regexName);\r\n            checkUserData(userLastName, regexName);\r\n            checkUserData(userSurName, regexName);\r\n            checkUserData(userPhone, regexTelephone);\r\n            checkUserData(userEmail, regexEmail);\r\n            checkUserData(userPassword, regexPassword);\r\n            checkUserData(userConfirmPassword, regexPassword);\r\n\r\n            function checkUserPassword() {\r\n                if (userPassword.value !== '' && userConfirmPassword.value !== '' && userPassword.value.length >= 6 && userConfirmPassword.value.length >= 6) {\r\n                    if (userPassword.value !== userConfirmPassword.value) {\r\n                        regErrorBlock.innerText = 'Пароли не совпадают!';\r\n                    } else {\r\n                        regErrorBlock.innerText = 'Пароли совпадают';\r\n                    }\r\n                }\r\n            }\r\n\r\n            function checkFilledFields() {\r\n                const allFilledFields = [...document.querySelectorAll('input[style=\"background-color:#edf9eb\"]')];\r\n                if (allFilledFields.length === 7) {\r\n                    sendRegisteredData.disabled = false;\r\n                } else if (allFilledFields.length < 7) {\r\n                    sendRegisteredData.disabled = true;\r\n                }\r\n            }\r\n        }\r\n\r\n        function callFormForgotPassword() {\r\n            const modalRegistrationForgotButton = document.getElementById('modal-registration-forgot-button');\r\n            modalRegistrationForgotButton.addEventListener('click', (e) => {\r\n                e.preventDefault();\r\n                contentInModalWindow.innerHTML = forgotPasswordFormTemplate;\r\n                const forgotPasswordButton = document.getElementById('forgot-password-button');\r\n                sendEmail(forgotPasswordButton, contentInModalWindow);\r\n            });\r\n        };\r\n        callFormForgotPassword();\r\n\r\n        modalCloseBtn.addEventListener('click', (e) => {\r\n            e.preventDefault();\r\n            modalTemplate.classList.remove('show');\r\n            bodyPage.classList.remove('fixed');\r\n            window.location.reload();\r\n        });\r\n\r\n        favProductHeader.addEventListener('click', (e) => {\r\n            e.preventDefault();\r\n            if (localStorage.getItem('token')) {\r\n                window.location.replace('https://www.anna-khizhniak.site/portfolio/store-HobbyArt/main-user-page.html#favorite');\r\n            } else {\r\n                openLogInPage(modalCallBtn);\r\n            }\r\n        })\r\n    });\r\n\r\n    const forgotPasswordFormTemplate = document.getElementById('forgot-password-form-template').innerHTML;\r\n\r\n    function sendEmail(forgotPasswordButton, contentInModalWindow) {\r\n        forgotPasswordButton.addEventListener('click', (e) => {\r\n            e.preventDefault();\r\n            const forgotPasswordEmail = document.getElementById('forgot-password-email');\r\n            emailValidate(forgotPasswordEmail, contentInModalWindow);\r\n        });\r\n    }\r\n\r\n    function emailValidate(forgotPasswordEmail, contentInModalWindow) {\r\n        const regex = new RegExp('^([a-z0-9_-]+\\\\.)*[a-z0-9_-]+@[a-z0-9_-]+(\\\\.[a-z0-9_-]+)*\\\\.[a-z]{2,6}$');\r\n        if (forgotPasswordEmail.value.length > 1 && forgotPasswordEmail.value !== '') {\r\n            if (!regex.test(forgotPasswordEmail.value)) {\r\n                console.error('email - entered forbidden symbols');\r\n                setTimeout(() => {\r\n                    contentInModalWindow.innerHTML = forgotPasswordFormTemplate;\r\n                    const forgotPasswordButton = document.getElementById('forgot-password-button');\r\n                    sendEmail(forgotPasswordButton, contentInModalWindow);\r\n                }, 2000);\r\n                contentInModalWindow.innerHTML = `<p class=\"error-message\">Wrong email format.</p>\r\n                    <p class=\"error-message\">Example: name@gmail.com.</p>`;\r\n            } else {\r\n                setTimeout(() => {\r\n                    window.location.reload();\r\n                }, 2000);\r\n                contentInModalWindow.innerHTML = `<p class=\"error-message\">Your email successfully sent! Check your mailbox and try login again.</p>`;\r\n            }\r\n        } else {\r\n            setTimeout(() => {\r\n                contentInModalWindow.innerHTML = forgotPasswordFormTemplate;\r\n                const forgotPasswordButton = document.getElementById('forgot-password-button');\r\n                sendEmail(forgotPasswordButton, contentInModalWindow);\r\n            }, 2000);\r\n            contentInModalWindow.innerHTML = `<p class=\"error-message\">Enter your email.</p>`;\r\n        }\r\n    }\r\n\r\n    function exitUserPage() {\r\n        const userPageExit = document.getElementById('user-page-exit');\r\n\r\n        if (userPageExit) {\r\n            userPageExit.addEventListener('click', (e) => {\r\n                e.preventDefault();\r\n                if (localStorage.getItem('token')) {\r\n                    localStorage.removeItem('token');\r\n                    window.location.replace('https://www.anna-khizhniak.site/portfolio/store-HobbyArt/');\r\n                } else {\r\n                    window.location.replace('https://www.anna-khizhniak.site/portfolio/store-HobbyArt/');\r\n                }\r\n            })\r\n        }\r\n    }\r\n    exitUserPage();\r\n\r\n\r\n\r\n\r\n}\r\n\n\n//# sourceURL=webpack://gulp-2022/./src/js/modules/modal-registration.js?");

/***/ }),

/***/ "./src/js/modules/swiper.js":
/*!**********************************!*\
  !*** ./src/js/modules/swiper.js ***!
  \**********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   swipeSlider: () => (/* binding */ swipeSlider)\n/* harmony export */ });\nfunction swipeSlider() {\r\n    var swiper = new Swiper(\".mySwiper\", {\r\n        slidesPerView: 1,\r\n        spaceBetween: 15,\r\n        loop: true,\r\n        autoplay: true,\r\n        pagination: {\r\n            el: \".swiper-pagination\",\r\n            type: \"fraction\",\r\n        },\r\n        navigation: {\r\n            nextEl: \".swiper-button-next\",\r\n            prevEl: \".swiper-button-prev\",\r\n        },\r\n    });\r\n    var swiperTwo = new Swiper(\".mySwiper-2\", {\r\n        slidesPerView: 5,\r\n        spaceBetween: 25,\r\n        direction: 'horizontal',\r\n        loop: true,\r\n        // rewind: true,\r\n        autoplay: true,\r\n        navigation: {\r\n            nextEl: \".swiper-button-next-2\",\r\n            prevEl: \".swiper-button-prev-2\",\r\n        },\r\n        breakpoints: {\r\n            320: {\r\n                slidesPerView: 1,\r\n                spaceBetween: 15\r\n            },\r\n            425: {\r\n                slidesPerView: 2,\r\n                spaceBetween: 10\r\n            },\r\n            768: {\r\n                slidesPerView: 3,\r\n                spaceBetween: 10\r\n            },\r\n            1280: {\r\n                slidesPerView: 3,\r\n                spaceBetween: 20\r\n            },\r\n            1441: {\r\n                slidesPerView: 4,\r\n                spaceBetween: 25\r\n            },\r\n            // when window width is >= 640px\r\n            1601: {\r\n                slidesPerView: 5,\r\n                spaceBetween: 25\r\n            }\r\n        }\r\n    });\r\n    var swiper3 = new Swiper(\".mySwiper-3\", {\r\n        slidesPerView: 3,\r\n        spaceBetween: 24,\r\n        loop: true,\r\n        // autoplay: true,\r\n        // pagination: {\r\n        //     el: \".swiper-pagination\",\r\n        //     type: \"fraction\",\r\n        // },\r\n        navigation: {\r\n            nextEl: \".swiper-button-next-3\",\r\n            prevEl: \".swiper-button-prev-3\",\r\n        },\r\n        breakpoints: {\r\n            300: {\r\n                slidesPerView: 1,\r\n                spaceBetween: 15\r\n            },\r\n            945: {\r\n                slidesPerView: 2,\r\n                spaceBetween: 15\r\n            },\r\n            1601: {\r\n                slidesPerView: 3,\r\n                spaceBetween: 15\r\n            },\r\n        }\r\n    });\r\n}\n\n//# sourceURL=webpack://gulp-2022/./src/js/modules/swiper.js?");

/***/ }),

/***/ "./src/js/modules/switcher.js":
/*!************************************!*\
  !*** ./src/js/modules/switcher.js ***!
  \************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   switchPopularAndNew: () => (/* binding */ switchPopularAndNew)\n/* harmony export */ });\nfunction switchPopularAndNew() {\r\n\r\n    $('.switch-btn').click(function () {\r\n        $(this).toggleClass('switch-on');\r\n        if ($(this).hasClass('switch-on')) {\r\n\r\n            $(\"#switcher-label-1\").removeClass('red-text');\r\n            $(\"#switcher-label-2\").addClass('red-text');\r\n\r\n\r\n            $(this).trigger('on.switch');\r\n        } else {\r\n            $(this).trigger('off.switch');\r\n            $(\"#switcher-label-1\").addClass('red-text');\r\n            $(\"#switcher-label-2\").removeClass('red-text');\r\n            //$(\"#header-bg\").css(\"background-image\", 'url(\"./img/bg-grad.png\")');\r\n\r\n        }\r\n    });\r\n    $('.switch-btn').on('on.switch', function () {\r\n        $($(this).attr('data-id')).removeClass('bl-hide');\r\n    });\r\n    $('.switch-btn').on('off.switch', function () {\r\n        $($(this).attr('data-id')).addClass('bl-hide');\r\n    });\r\n}\n\n//# sourceURL=webpack://gulp-2022/./src/js/modules/switcher.js?");

/***/ }),

/***/ "./src/js/modules/user-page.js":
/*!*************************************!*\
  !*** ./src/js/modules/user-page.js ***!
  \*************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   loadUserContent: () => (/* binding */ loadUserContent)\n/* harmony export */ });\nfunction loadUserContent() {\r\n    const URL = 'https://anna-khizhniak.site/database/hobbyart/database-json.json';\r\n    const APIURL = 'https://reqres.in/api/users/2';\r\n    // const URL = 'http://localhost:3000/users';\r\n    // const APIURL = 'http://localhost:3000/users/2';\r\n    const userDataTemplate = document.getElementById('user-data-template').innerHTML;\r\n    const bonusesTemplate = document.getElementById('bonuses-template').innerHTML;\r\n    const mailingTemplate = document.getElementById('mailing-template').innerHTML;\r\n    const cancelMailing = document.getElementById('no-mailing-template').innerHTML;\r\n    const favoritesTemplate = document.getElementById('favorites-template').innerHTML;\r\n    const storyOrdersTemplate = document.getElementById('story-orders-template').innerHTML;\r\n    const reviewTemplate = document.getElementById('review-template').innerHTML;\r\n    const myData = document.getElementById('my-data');\r\n    const bonuses = document.getElementById('bonuses');\r\n    const mailing = document.getElementById('mailing');\r\n    const favorites = document.getElementById('favorites');\r\n    const storyOrders = document.getElementById('story-orders');\r\n    const reviewButton = document.getElementById('review');\r\n    const containerWithData = document.getElementById('user-page-date-block');\r\n    const favProductHeader = document.getElementById('favorite-header');\r\n    const userNameInfoBlock = document.getElementById('user-name-info');\r\n    const userMenuList = document.getElementById('user-menu-list');\r\n\r\n\r\n    let newOrdersArr = [];\r\n    let newListArr = [];\r\n    let newItemListArray = [];\r\n    let viewMoreStoryOrder = [];\r\n\r\n    if (window.screen.width <= 768 && containerWithData) {\r\n        userMenuList.classList.add('bl-hidden');\r\n        userNameInfoBlock.classList.add('user-block-header');\r\n        const userPageExit = document.getElementById('user-page-exit');\r\n        userPageExit.innerText = '';\r\n        userNameInfoBlock.addEventListener('click', (e) => {\r\n            e.preventDefault();\r\n            console.log('clicked user name block');\r\n            userMenuList.classList.toggle('bl-hidden');\r\n            userNameInfoBlock.classList.toggle('user-block-header');\r\n        })\r\n    }\r\n\r\n\r\n//get user info - general\r\n    function getUserData() {\r\n        fetch(URL)\r\n            .then(res => res.json())\r\n            .then(result => {\r\n                containerWithData.innerHTML = '';\r\n                let data = result.users;\r\n                data.forEach((element, i) => {\r\n                    const newUserDataTemplate = userDataTemplate\r\n                        .replace('{{user-name}}', element.firstName)\r\n                        .replace('{{user-last-name}}', element.lastName)\r\n                        .replace('{{user-sur-name}}', element.surName)\r\n                        .replace('{{birth-date}}', element.birthDate)\r\n                        .replace('{{phone-number}}', element.phone)\r\n                        .replace('{{email}}', element.email)\r\n                        .replace('{{address}}', element.address)\r\n                        .replace('{{password}}', element.password);\r\n                    containerWithData.insertAdjacentHTML('beforeend',\r\n                        `${newUserDataTemplate}`);\r\n                    const linksEdit = [...document.querySelectorAll('.main__user-page-content-user-edit-link')];\r\n                    linksEdit.forEach((elem, index) => {\r\n                        elem.id = `edit-link-${++index}`;\r\n                    })\r\n                })\r\n            })\r\n    }\r\n\r\n\r\n    if (containerWithData && window.location.href === 'https://www.anna-khizhniak.site/portfolio/store-HobbyArt/main-user-page.html#favorite') {\r\n        getFavoritesProducts();\r\n    } else if (containerWithData && window.location.href === 'https://www.anna-khizhniak.site/portfolio/store-HobbyArt/main-user-page.html') {\r\n        getUserData();\r\n    }\r\n\r\n\r\n    myData.addEventListener('click', (e) => {\r\n        e.preventDefault();\r\n        getUserData();\r\n    });\r\n\r\n    containerWithData.addEventListener('click', (e) => {\r\n        e.preventDefault();\r\n        document.getElementById(e.target.dataset.input).focus();\r\n        let editButtonClicked = document.getElementById(e.target.id);\r\n        editButtonClicked.innerHTML = '<img src=\"img/edit.svg\" alt=\\\\\"\\\\\">';\r\n\r\n        const saveEditedDataBtn = document.getElementById('save-edited-data-btn');\r\n        //save editted data (button save)\r\n        saveEditedDataBtn.addEventListener('click', (e) => {\r\n            e.preventDefault();\r\n\r\n            fetch(APIURL, {\r\n                method: 'PATCH',\r\n                body: JSON.stringify({\r\n                    id: \"1\",\r\n                    firstName: document.getElementById('user-name').value,\r\n                    lastName: document.getElementById('user-surname').value,\r\n                    surName: document.getElementById('user-surname-2').value,\r\n                    birthDate: document.getElementById('user-birth-date').value,\r\n                    phone: document.getElementById('user-phone').value,\r\n                    email: document.getElementById('user-page-email').value,\r\n                    address: document.getElementById('user-address').value,\r\n                    password: document.getElementById('user-page-password').value,\r\n                }),\r\n                headers: {\r\n                    'content-type': 'application/json',\r\n\r\n                }\r\n            })\r\n                .then(res => {\r\n                    if (res.status === 200) {\r\n                        editButtonClicked.innerHTML = '<img src=\"img/edit.svg\" alt=\\\\\"\\\\\">Изменить'\r\n                        saveEditedDataBtn.innerText = 'Сохранено';\r\n                        setTimeout(() => {\r\n                            saveEditedDataBtn.innerText = 'Сохранить данные';\r\n                        }, 2000);\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    console.log(err);\r\n                })\r\n        })\r\n    });\r\n\r\n\r\n    bonuses.addEventListener('click', (e) => {\r\n        e.preventDefault();\r\n        fetch(URL)\r\n            .then(res => res.json())\r\n            .then(result => {\r\n                containerWithData.innerHTML = '';\r\n                let data = result.users;\r\n                data.forEach(element => {\r\n                    console.log(element.bonuses);\r\n                    const newBonusesTemplate = bonusesTemplate.replace('{{bonuses}}', element.bonuses);\r\n                    containerWithData.insertAdjacentHTML('beforeend', `${newBonusesTemplate}`);\r\n                })\r\n            })\r\n    })\r\n\r\n    favorites.addEventListener('click', (e) => {\r\n        e.preventDefault();\r\n        getFavoritesProducts();\r\n    })\r\n\r\n    function getFavoritesProducts() {\r\n        fetch(URL)\r\n            .then(res => res.json())\r\n            .then(result => {\r\n                let data = result.users;\r\n                const favArray = data[0].favorites.listItems;\r\n                containerWithData.innerHTML = '';\r\n                favArray.forEach(element => {\r\n                    const newFavoritesTemplate = favoritesTemplate\r\n                        .replace('{{id}}', element.id)\r\n                        .replace('{{image}}', element.photo)\r\n                        .replace('{{product-name}}', element.name)\r\n                        .replace('{{product-price}}', element.price);\r\n                    containerWithData.insertAdjacentHTML('beforeend', `${newFavoritesTemplate}`);\r\n                    if (containerWithData.classList.contains('display-block')) {\r\n                        containerWithData.classList.remove('display-block');\r\n                    }\r\n                })\r\n            })\r\n    }\r\n\r\n    function getDataForMailing() {\r\n        fetch(URL)\r\n            .then(res => res.json())\r\n            .then(result => {\r\n                let data = result.users;\r\n                data.forEach(el => {\r\n                    if (el.mailing == 'false') {\r\n                        containerWithData.innerHTML = mailingTemplate;\r\n                        const subscribe = document.getElementById('subscribe');\r\n                        subscribe.addEventListener('click', (e) => {\r\n                            e.preventDefault();\r\n                            changeMailingStatus(subscribe, \"true\", cancelMailing);\r\n                        })\r\n                    } else {\r\n                        containerWithData.innerHTML = cancelMailing;\r\n                        const cancelMailingBtn = document.getElementById('cancel-mailing');\r\n                        cancelMailingBtn.addEventListener('click', (e) => {\r\n                            e.preventDefault();\r\n                            changeMailingStatus(cancelMailingBtn, \"false\", mailingTemplate);\r\n                        })\r\n                    }\r\n                })\r\n            })\r\n    }\r\n\r\n    mailing.addEventListener('click', (e) => {\r\n        e.preventDefault();\r\n        getDataForMailing();\r\n    })\r\n\r\n    function changeMailingStatus(button, status, template) {\r\n        fetch(APIURL, {\r\n            method: 'PATCH',\r\n            body: JSON.stringify({\r\n                mailing: status,\r\n            }),\r\n            headers: {\r\n                'content-type': 'application/json'\r\n            }\r\n        })\r\n            .then(res => {\r\n                containerWithData.innerHTML = template;\r\n            })\r\n            .then(res => {\r\n                if (template == cancelMailing) {\r\n                    const cancelMailingBtn = document.getElementById('cancel-mailing');\r\n                    getDataForMailing(cancelMailingBtn);\r\n                } else {\r\n                    const subscribe = document.getElementById('subscribe');\r\n                    getDataForMailing(subscribe);\r\n                }\r\n            })\r\n            .catch(error => console.log(error));\r\n    }\r\n\r\n    storyOrders.addEventListener('click', (e) => {\r\n        e.preventDefault();\r\n        let orderItemsBlockContent = []\r\n        fetch(URL)\r\n            .then(res => res.json())\r\n            .then(result => {\r\n                let data = result.users;\r\n                containerWithData.innerHTML = '';\r\n                newOrdersArr = data.map(element => {\r\n                    newListArr = element.orders.list;\r\n                    return [...newListArr]\r\n                })\r\n                viewMoreStoryOrder = []\r\n\r\n                newListArr.forEach(el => {\r\n                    const newUserOrderTemplate = storyOrdersTemplate\r\n                        .replaceAll('{{id}}', el.id)\r\n                        .replace('{{number}}', el.number)\r\n                        .replace('{{data}}', el.data)\r\n                        .replace('{{timeCreated}}', el.timeCreated)\r\n                        .replace('{{sumQuantity}}', el.sumQuantity)\r\n                        .replace('{{total}}', el.total)\r\n                        .replace('{{dataFinished}}', el.dataFinished);\r\n\r\n                    containerWithData.insertAdjacentHTML('beforeend',\r\n                        `${newUserOrderTemplate}`);\r\n\r\n                    if (!containerWithData.classList.contains('display-block')) {\r\n                        containerWithData.classList.add('display-block');\r\n                    }\r\n\r\n                    viewMoreStoryOrder.push(document.getElementById(`view-more-${el.id}`));\r\n                    orderItemsBlockContent.push(document.getElementById(`order-items-block-template-${el.id}`));\r\n                })\r\n\r\n                let orderItemsTemplate = document.getElementById('order-items-template').innerHTML;\r\n\r\n                //событие на каждую из ссылок подробнее\r\n                viewMoreStoryOrder.forEach((element, i) => {\r\n                    //присваиваю стрелке id. беру его из dataset arrow\r\n\r\n                    let elementChildren = [...element.children]\r\n                    elementChildren.forEach((e, index) => {\r\n                        if (e.localName === 'img') {\r\n                            elementChildren = index\r\n                        }\r\n                        return elementChildren\r\n                    })\r\n                    element.children[elementChildren].id = element.dataset.arrow;\r\n                    let arrow = document.getElementById(`${element.dataset.arrow}`);\r\n\r\n                    //вешаю событие клика на каждую из кнопок \"подробнее\"\r\n                    element.addEventListener('click', (e) => {\r\n                        arrow.classList.toggle(\"rotate\");\r\n                        e.preventDefault();\r\n\r\n                        fetch(URL)\r\n                            .then(res => res.json())\r\n                            .then(result => {\r\n                                console.log(result.users);\r\n                                let data = result.users;\r\n                                //массив из заказов\r\n                                newOrdersArr = data.map((element, index) => {\r\n                                    newListArr = element.orders.list;\r\n                                    return [...newListArr];\r\n                                })\r\n                                //делаю перебор по содержимому (товары-content) каждого заказа\r\n                                if (element.dataset.orderItems === `order-items-${i + 1}`) {\r\n                                    orderItemsBlockContent[i].classList.toggle(\"non-visible\")\r\n                                    orderItemsBlockContent[i].innerText = '';\r\n\r\n                                    newListArr[i].content.forEach(elem => {\r\n\r\n                                        const newContentTemplate = orderItemsTemplate\r\n                                            .replaceAll('{{id}}', elem.id)\r\n                                            .replace('{{image}}', elem.image)\r\n                                            .replace('{{item-name}}', elem.name)\r\n                                            .replace('{{quantity}}', elem.quantity)\r\n                                            .replace('{{price}}', elem.price);\r\n                                        orderItemsBlockContent[i].insertAdjacentHTML('beforeend',\r\n                                            `${newContentTemplate}`);\r\n                                    })\r\n                                }\r\n                            })\r\n                    })\r\n                })\r\n            });\r\n    })\r\n\r\n\r\n//заголовок раздела\r\n    // const blockHeaderTemplate = document.getElementById('block-header-template').innerHTML;\r\n    // const newHeaderTemplate = blockHeaderTemplate\r\n    //     .replace('{{header-template}}', data[0].orders.header);\r\n    // containerWithData.insertAdjacentHTML('beforebegin',\r\n    //     `${newHeaderTemplate}`);\r\n\r\n\r\n    reviewButton.addEventListener('click', (e) => {\r\n        e.preventDefault();\r\n        containerWithData.innerHTML = reviewTemplate;\r\n    })\r\n}\r\n\r\n// export function getFavProducts() {\r\n//     const favProductHeader = document.getElementById('favorite-header');\r\n//\r\n//     favProductHeader.addEventListener('click', (e) => {\r\n//         e.preventDefault();\r\n//         // console.log('clicked')\r\n//         if (localStorage.getItem('token')) {\r\n//             // history.pushState(null, null, 'main-user-page.html')\r\n//             window.location.replace('main-user-page.html');\r\n//         } else {\r\n//\r\n//             return false\r\n//         }\r\n//         // if (location.href === 'https://www.anna-khizhniak.site/portfolio/store-HobbyArt/main-user-page.html') {\r\n//         //     getFavoritesProducts();\r\n//         // }\r\n//\r\n//     })\r\n// }\r\n\r\n\r\n\n\n//# sourceURL=webpack://gulp-2022/./src/js/modules/user-page.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/js/app.js");
/******/ 	
/******/ })()
;